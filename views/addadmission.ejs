<%- include('./partials/header.ejs') %>

<div class="container col-xl-10 col-xxl-8 px-4 py-5">
  <div class="row align-items-center g-lg-5 py-0">
    <div class="mx-auto col-md-10 col-lg-7">
      <form action="/auth/addadmission/id/<%= studentId %>/sfn/<%= studentfirstname %>/sln/<%= studentlastname %>/ayears/<%= ayears %>/institutes/<%= institutes %>/branches/<%= branches %>/levels/<%= levels %>" method="POST" class="p-3 p-md-4 border rounded-3 bg-light">
        
        <div class="row mb-3">
          <div class="col text-center">
            <h3 class="text-primary fw-bold"><%= studentfirstname %> <%= studentlastname %></h3>
          </div>
        </div>
        <hr class="text-danger">
       
        <div class="col d-flex flex-column text-center">

          <div class="justify-content-center">
            <label for="ra" class="fs-4 mr-3 w-100">Rok akademicki</label>
            <select class="custom-select-addtransaction mb-3 fs-5 w-75" name="ayears" id="ra">
            <option></option>
            <% if (ayears) { %>
              <% ayears.forEach(year => { %>
                <option value="<%= year.id %>" class="text-center"><%= year.academicyear %></option>           
              <% }) %>           
            <% } %>
            </select>
          </div>

          <div class="justify-content-center">
            <label for="institute" class="fs-4 mr-3 w-100">Instytut</label>
            <select class="custom-select-addtransaction mb-3 fs-5 w-75" name="institutes" id="institute">
            <option></option>
            <% if (institutes) { %>
              <% institutes.forEach(institute => { %>
                <option value="<%= institute.instituteId %>" class="text-center"><%= institute.instituteName %></option>
              <% }) %>
            <% } %>    
            </select>
          </div>

          <div class="justify-content-center">
            <label for="branches" class="fs-4 mr-3 w-100">Punkt konsultacyjny</label>
            <select class="custom-select-addtransaction mb-3 fs-5 w-75" name="branches" id="branches">
            <option></option>
            <% if (branches) { %>
            <% branches.forEach(branch => { %>
              <option value="<%= branch.branchId %>" class="text-center"><%= branch.branchName %></option>
            <% }) %>
            <% } %> 
            </select>
          </div>

          <div class="justify-content-center">
            <label for="levels" class="fs-4 mr-3 w-100">Poziom kształcenia</label>
            <select class="custom-select-addtransaction mb-3 fs-5 w-75" name="levels" id="levels">
            <option></option>
            <% if (levels) { %>
              <% levels.forEach(level => { %>
              <option value="<%= level.levelId %>" class="text-center"><%= level.levelName %></option>
              <% }) %>
            <% } %>
            </select>
          </div>          

          <div class="justify-content-center">
            <label for="markers" class="fs-4 mr-3 w-100">Znacznik</label>
            <select class="custom-select-addtransaction mb-5 fs-5 w-75" name="markers" id="markers">
            <option></option>
            <% if (markers) { %>
              <% markers.forEach(marker => { %>
              <option value="<%= marker.markerId %>" class="text-center"><%= marker.markerName %></option>
              <% }) %>
            <% } %>
            </select>
          </div>

          <div class="d-flex justify-content-center">
            <div class="form-floating mb-5">
              <input type="text" class="form-control w-75 fs-4" id="index" name="index" placeholder="Numer indeksu">
              <label for="index">Numer indeksu</label>
            </div>

            <input class="fs-4 mb-5" type="checkbox" id="resignation" name="resignation" value="resignation" style="width: 20px;">
            <label for="resignation" class="fs-4 mb-5 mx-3" style="margin-top: 11px;">Rezygnacja?</label>
       
          </div>
        </div>

        <div class="row">
          <div class="col col-6">
            <a href="#"><button class="w-100 btn btn-lg btn-primary" type="submit">Zapisz</button></a> 
          </div>
          <div class="col col-6">
            <a href="/"><button class="w-100 btn btn-lg btn-warning" type="button">Wróć</button></a>
          </div>
        </div>

        <% if (messageerror) { %>
          <h4 class="alert alert-danger text-center text-danger mt-2"><%= messageerror %></h4> 
        <% } %>
        <% if (messagesuccess) { %>
          <h4 class="alert alert-success text-center text-success mt-2"><%= messagesuccess %></h4> 
        <% } %>
      </form>
    </div>
  </div>
</div> 

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
<script>
let alert = document.querySelector('.alert');

[...document.querySelectorAll('.custom-select')].forEach(function(item) {
item.addEventListener('focus', textChange)
})

function textChange() {
  const val = alert ? alert.hidden = true : '';
}

</script>
</html>


